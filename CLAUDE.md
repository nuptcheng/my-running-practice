# Claude Code 使用指南 - 跑步训练项目

> 本文档为 Claude Code 提供项目上下文和工作流程指导

## 项目概述

这是一个个人跑步训练管理项目，用于记录、分析和优化跑步训练数据，帮助实现2026年度训练目标。

### 2026年度训练目标

- **核心目标1**: 10公里配速达到 5:40 分/公里
- **核心目标2**: 心率控制在165以下，最好能控制在160
  - 注：用户可能属于心率偏高人群
- **核心目标3**: 体重控制在 74kg

### 当前状态（2026-01-16）

- **体重**: 81kg → 目标74kg（需减重7kg）
- **配速**: 7:22 分/公里 → 目标5:40（需提升1分42秒）
- **心率**: 158 bpm（5.52km）→ 目标160以内完成10km
- **训练阶段**: 有氧基础建立期

---

## 项目结构

```
my-running-practice/
├── data/                    # 跑步数据记录
│   ├── 2024/
│   ├── 2025/
│   └── 2026/
│       └── 01-January.md   # 月度跑步记录
├── training-plans/          # 训练计划
│   └── 2026-01-plan.md     # 月度训练计划
├── docs/                    # 文档和建议
│   ├── GUIDE.md            # 使用指南
│   ├── WORKFLOW.md         # 工作流程
│   ├── DIET-PLAN.md        # 饮食计划
│   ├── training-advice-2026-01-13.md  # 训练建议报告
│   ├── training-advice-2026-01-16.md
│   └── training-advice-index.md       # 训练建议索引
├── scripts/                 # 数据处理脚本
│   ├── visualize.py        # 图表生成
│   ├── analyze.py          # 数据分析
│   ├── quick_log.py        # 快速记录
│   └── weight_analysis.py  # 体重分析
├── output/                  # 生成的图表
│   ├── distance_trend.png
│   ├── pace_trend.png
│   ├── heart_rate_trend.png
│   ├── weight_trend.png
│   └── monthly_summary.png
└── README.md               # 项目说明
```

---

## 核心工作流程：批量跑步记录归档

用户可能一次性提供多日（一周或更长）的跑步数据，必须按照以下标准流程执行：

### 阶段1：数据更新与记录

#### 1.1 更新月度跑步记录

**文件位置**: `data/YYYY/MM-MonthName.md`

**更新内容**:
- 在跑步记录表格中添加所有新训练记录（支持批量添加多行）
- 记录完整数据：日期、距离、时长、配速、心率、体重、场地、感受、备注
- 更新"本月统计"部分：
  - 实际跑量（累计）
  - 平均配速（加权平均）
  - 平均心率（算术平均）
  - 训练次数（累计）

**数据格式示例**:
```markdown
| 2026-01-16 | 5.52 | 40.72 | 7:22 | 158 | 166 | - | 户外 | - | 详细备注 |
| 2026-01-18 | 6.00 | 42.00 | 7:00 | 155 | 162 | - | 户外 | - | 详细备注 |
| 2026-01-20 | 5.50 | 38.50 | 7:00 | 152 | 160 | - | 户外 | - | 详细备注 |
```

#### 1.2 更新月度训练计划

**文件位置**: `training-plans/YYYY-MM-plan.md`

**更新内容**:
- 在对应日期填写所有实际完成情况（批量更新）
- 添加"对比分析"：每次训练的计划vs实际
- 添加"改进建议"：基于本周整体表现
- 更新周小结：跑量、完成率、关键进展
- 更新月度统计表格
- **生成下一周完整训练计划**：包含每一天的安排（训练日、休息日）

**训练计划生成规则**:
- 必须生成完整的周计划（周一到周日，所有7天）
- 每个训练日包含：目标距离、配速区间、心率区间、每公里详细目标
- 休息日标注为"休息"并说明恢复建议
- 计划必须覆盖到当前周结束，并生成下一周完整计划

#### 1.3 图表生成（用户手动触发）

**注意**: 图表按月生成，仅在用户明确要求时执行

**执行命令**: `python3 scripts/visualize.py`

**生成图表**:
- distance_trend.png - 距离趋势
- pace_trend.png - 配速趋势
- heart_rate_trend.png - 心率趋势
- weight_trend.png - 体重趋势
- monthly_summary.png - 月度总结

---

### 阶段2：效果评估与训练建议（周报形式）

#### 2.1 创建训练建议周报

**文件命名规则**: `docs/training-advice-YYYY-WXX.md`
- 例如：`training-advice-2026-W03.md` 表示2026年第3周
- 如果跨周，可按实际情况命名：`training-advice-2026-01-13-to-01-19.md`

**必须包含的内容**:

1. **本周训练数据汇总**
   - 本周所有训练记录列表
   - 每次训练的基本数据（距离、时长、配速、消耗）
   - 每次训练的心率数据（平均、最大、最小）
   - 每次训练的步态数据（步频、步幅、总步数）
   - **每次训练的每公里配速和心率数据**
   - 本周总跑量、平均配速、平均心率

2. **单次训练分析**（每次训练单独分析）
   - 与计划目标对比（达标情况）
   - **每公里数据对比分析**（计划vs实际）
   - 关键表现点识别

3. **本周整体评估**
   - 与上周对比（心率趋势、配速趋势、跑量趋势）
   - 计划完成率
   - 进步或退步分析
   - 关键突破点识别
   - 存在的问题

4. **训练建议**
   - 继续保持的方面
   - 需要改进的方面
   - 具体执行策略
   - 户外/跑步机差异处理
   - **步频建议**（注意：提高步频时必须同时缩短步幅，保持配速不变）

5. **下周训练计划**（重要）
   - 根据本周心率表现调整配速目标
   - 根据恢复情况调整训练强度和频率
   - 根据进度调整训练距离
   - **完整的下周7天计划**（周一到周日）
   - 每个训练日包含：
     - 目标距离
     - 目标配速区间
     - 目标心率区间
     - **每公里详细目标**（采用渐进式策略：前几公里慢速热身，中间稳定，最后控制）
   - 休息日的恢复建议

6. **下周行动要点**
   - 核心执行策略
   - 注意事项和风险提示
   - 重点关注指标

#### 2.2 更新训练建议索引

**文件位置**: `docs/training-advice-index.md`

**更新内容**:
- 添加新周报的链接
- 简要总结本周关键问题和核心建议
- 本周数据概览（跑量、次数、平均配速、平均心率）
- 便于历史对比和进度追踪

---

### 阶段3：睡眠与饮食建议

#### 3.1 饮食建议

**必须包含**:

1. **本周饮食回顾**（如用户提供了饮食信息）
   - 评估本周饮食选择（健康度、热量、营养）
   - 与训练目标的匹配度

2. **体重管理策略**
   - 当前体重 vs 目标体重（74kg）
   - 每周/每月减重目标（安全范围：0.5-1kg/周）
   - 减重对心率的预期影响（每减1kg，心率约降1-2bpm）
   - 本周体重变化趋势

3. **下周营养建议**
   - 训练日饮食建议（碳水、蛋白质、脂肪比例）
   - 休息日饮食建议
   - 训练前后补给建议
   - 推荐食物和避免食物

#### 3.2 睡眠建议

**必须包含**:

1. **睡眠与恢复的关系**
   - 充足睡眠对心率恢复的影响
   - 睡眠不足对训练表现的影响
   - 推荐睡眠时长（7-9小时）

2. **下周睡眠安排**
   - 训练日睡眠建议
   - 休息日睡眠建议
   - 睡眠质量改善方法

3. **恢复监测**
   - 晨起心率监测（判断恢复状态）
   - 疲劳信号识别
   - 何时需要额外休息

---

## 重要提醒

### 训练原则

1. **心率优先原则**
   - 心率控制永远是第一优先级
   - 配速是结果，不是目标
   - 宁可慢，不要心率失控

2. **循序渐进原则**
   - 每周跑量增加不超过10%
   - 不要因为感觉好就大幅提速
   - 巩固2-3周再进入下一阶段

3. **个体化原则**
   - 用户可能属于心率偏高人群
   - 目标是160以内完成10km（不是138）
   - 根据实际表现动态调整，不死板执行

4. **步频优化原则**（重要）
   - **提高步频时必须同时缩短步幅，保持配速不变**
   - 步频优化的目的是降低冲击力，不是提高配速
   - 在有氧基础建立期，步频优化不是优先事项
   - 等心率稳定后再考虑步频调整
   - 示例：155步/分×0.87米 = 170步/分×0.79米（配速相同）

### 关键指标监测

- **心率趋势**：相同配速下心率是否下降
- **配速趋势**：相同心率下配速是否提升
- **恢复速度**：第二天是否疲劳
- **体重变化**：每周监测，目标74kg
- **主观感受**：能否轻松说话

---

## 快速检查清单

每次批量跑步记录归档后，确认以下任务已完成：

### 数据更新 ✓
- [ ] 更新月度跑步记录表格（data/YYYY/MM-MonthName.md）
  - 批量添加所有新训练记录
- [ ] 更新本月统计（跑量、配速、心率、次数）
- [ ] 更新月度训练计划（training-plans/YYYY-MM-plan.md）
  - 批量填写所有实际完成情况和对比分析
  - 更新周小结和月度统计
  - **生成下一周完整训练计划（周一到周日，所有7天）**
- [ ] 图表生成（仅在用户明确要求时执行）
  - 运行 `python3 scripts/visualize.py`

### 分析评估 ✓
- [ ] 创建训练建议周报（docs/training-advice-YYYY-WXX.md）
  - 包含本周所有训练数据汇总
  - 单次训练分析
  - 本周整体评估
  - 训练建议
  - **下周完整训练计划（7天）**
  - 下周行动要点
- [ ] 更新训练建议索引（docs/training-advice-index.md）

### 生活建议 ✓
- [ ] 提供本周饮食回顾和下周建议
- [ ] 提供体重管理策略和趋势分析
- [ ] 提供下周睡眠安排建议
- [ ] 提供恢复监测方法

---

## 总结

本文档定义了跑步训练项目的批量更新工作流程。用户可能一次性提供多日训练数据，必须严格按照以下顺序执行：

1. **数据更新**：批量更新月度记录 → 批量更新训练计划 → 生成下周完整计划 → （用户要求时）生成图表
2. **效果评估**：创建训练建议周报 → 包含下周完整训练计划
3. **生活建议**：饮食 → 睡眠 → 恢复

**关键要求**：
- 支持批量更新多日训练数据
- 训练建议以周报形式呈现
- 必须生成下周完整训练计划（周一到周日，所有7天）
- 图表按月生成，仅在用户明确要求时执行

通过系统化的记录、分析和调整，帮助用户实现2026年训练目标：
- 10公里配速 5:40 分/公里
- 心率控制在 160 以内
- 体重控制在 74kg

---

*文档版本：v2.0*
*最后更新：2026-01-20*
